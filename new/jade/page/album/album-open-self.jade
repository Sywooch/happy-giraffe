include ../../block/config
extend ../../extend/layout_loose
block vars
  - var bodyClass = 'body__bg1';

block layout

    +user-menu('', userMenu.a)

    .page-col.page-col__user
        .page-col_cont.page-col_cont__in

            //- +userAddRecord('userAddRecord__blog', userAddRecord.albums)
            
            .user-album
                .b-crumbs.b-crumbs__s
                    ul.b-crumbs_ul
                        li.b-crumbs_li
                            a.b-crumbs_a(href="") Мои фото
                        li.b-crumbs_li.b-crumbs_li__last
                            span.b-crumbs_last  Харьковский уикенд

                .user-album_top.clearfix
                    .user-album_count-hold
                        .user-album_count 26
                        .user-album_count-tx фото
                    h1.user-album_t
                        | Харьковский уикенд
                        a.ico-edit.ico-edit__s
                    .user-album_desc 
                        |В половине чашке горячей воды разведем желатин. Дадим ему остыть. Желе для торта разводим согласно инструкции. Поломаем не небольшие кусочки крекер. Апельсин почистим и разберем на дольки. а не только лишь на экране, все же Роберт Паттинсон и Кристен Стюарт расстались и пока решили взять паузу в своих отношениях.
                        a.ico-edit.ico-edit__s
                    .user-album_control.clearfix
                        a.user-album_del(href="")

                        a.user-album_sort(href="") Упорядочить фото
                        a.user-album_move(href="") Переместить в другой альбом


    
                mixin imgGrid(mod, vars)
                    // img-grid
                    .img-grid(class=mod)
                        - each row in vars.rows
                            // Что б изображения не падали, последний элемент может выступать до 5 пк за рамку, эти пиксели обрежуться.
                            .img-grid_row.clearfix
                                - each item in row.img
                                    //- При отложенной загрузке изображений на .img-grid_i нужно высталять ширину и высоту изображения.
                                    // До момента загрузки/показа изображения на .img-grid_i ставить класс .loading, затем убирать.
                                    - if (typeof(item) == 'string')
                                        .img-grid_i
                                            // Высота изображений может отличаться в зависимости от ряда
                                            img.img-grid_img(src="#{path}images/example/#{item}", alt="")
                                            .img-grid_overlay
                                                span.img-grid_zoom
                                                - if (row.inAlbum)
                                                    .img-grid_ico-ava(class=row.inAlbum.ava)
                                                    .img-grid_ico-album(class=row.inAlbum.album)
                                                    .img-grid_overlay-b
                                                        .img-grid_ico-del.powertip(title="Удалить фото")
                                                        .img-grid_ico-edit.powertip(title="Редактировать")
                                                        .img-grid_ico-move.powertip(title="Переместить")
                                    - else 
                                        .img-grid_i.loading
                                            img.img-grid_img(src="", alt="", width='160', height='260')
                                            .img-grid_overlay
                                                span.img-grid_zoom
                                            // Блок процесса загрузки фото
                                            // Цвета 
                                                img-grid_loading__purple
                                                img-grid_loading__yellow
                                                img-grid_loading__carrot
                                                img-grid_loading__green
                                                img-grid_loading__blue
                                            .img-grid_loading(class="img-grid_loading__#{item.color}")
                                                .img-grid_loading-hold
                                                    img(src="#{path}images/ico/ajax-loader.gif", alt="")
                                                    .img-grid_loading-tx Загрузка фотографии


                - var imgGrid = {}

                - imgGrid.loadingPurple = {}
                - imgGrid.loadingPurple.color = 'purple'
                - imgGrid.loadingYellow = {}
                - imgGrid.loadingYellow.color = 'yellow'
                - imgGrid.loadingCarrot = {}
                - imgGrid.loadingCarrot.color = 'carrot'
                - imgGrid.loadingGreen = {}
                - imgGrid.loadingGreen.color = 'green'
                - imgGrid.loadingBlue = {}
                - imgGrid.loadingBlue.color = 'blue'

                - imgGrid.rowColor = {}
                - imgGrid.rowColor.img = [imgGrid.loadingPurple, imgGrid.loadingYellow, imgGrid.loadingCarrot, imgGrid.loadingGreen, imgGrid.loadingBlue]

                - imgGrid.row1 = {}
                - imgGrid.row1.img = ['w558-h360-1.jpg', 'w305-h360-1.jpg']

                - imgGrid.row2 = {}
                - imgGrid.row2.img = ['w305-h360-1.jpg', 'w558-h360-1.jpg']

                - imgGrid.row3 = {}
                - imgGrid.row3.img = ['w280-h370-1.jpg','w280-h370-2.jpg','w280-h370-3.jpg']


                - imgGrid.row4 = {}
                - imgGrid.row4.img = ['w305-h360-1.jpg', 'w558-h360-1.jpg']
                - imgGrid.row4.inAlbum = true
                //- - imgGrid.row4.inAlbum.ava = 'active'
                //- - imgGrid.row4.inAlbum.album = 'active'



                - imgGrid.a = {}
                - imgGrid.a.rows = [imgGrid.row1, imgGrid.row3, imgGrid.row2, imgGrid.rowColor]

                - imgGrid.b = {}
                - imgGrid.b.rows = [imgGrid.row4, imgGrid.rowColor]


                +imgGrid('', imgGrid.b)
            





        +layout-footer('layout-footer__in')

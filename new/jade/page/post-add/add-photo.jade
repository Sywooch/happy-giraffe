include ../../block/config
extend ../../extend/layout_loose
block vars
  - var bodyClass = 'body__bg1';



block layout
    //- iPhoto
        mod     .i-photo__load  .i-photo__error
        vars 
            type
    mixin iPhoto(mod, vars)
        // Блок фотографии 
            Разные состояния блока применяются модификаторы .i-photo__load  .i-photo__error
        .i-photo(class=mod)
            a.ico-close4(href="")
            // Разные состоянияния блока могут лежать в разных .i-photo_hold можно и управлять видами через их видимость
            - if (vars.type == "load")
                // Загрузка фото
                .i-photo_hold
                    .i-photo_progress
                        // boostrap progressbar
                        // progressbar изначально уже весь заполнен
                        .progress.progress-striped.active.progress__cont
                            .progress-bar.progress-bar__cont(role='progressbar', aria-valuenow='100', aria-valuemin='0', aria-valuemax='100', style='width: 100%')
                        .i-photo_load-tx Загрузка
            - if (vars.type == "error")
                // Ошибка
                .i-photo_hold
                    .i-photo_error-tx IMG_5295.JPG
                    .i-photo_error-tx Ошибка загрузки
            - if (vars.type == "loaded")
                // Загруженное фото
                .i-photo_hold
                    .i-photo_img-hold
                        img.i-photo_img(src='#{vars.src}', alt="")
                        .i-photo_overlay
                            a.i-photo_rotate(href="") 
                            a.i-photo_rotate.i-photo_rotate__r(href="") 
                    input.i-photo_t.itx-gray(type="text", placeholder='Введите заголовок')
        // /Блок фотографии

    - var iPhoto = {}
    - iPhoto.load = {}
    - iPhoto.load.type = "load"
    
    - iPhoto.error = {}
    - iPhoto.error.type = "error"

    - iPhoto.loaded = {}
    - iPhoto.loaded.type = "loaded"
    - iPhoto.loaded.src = "/new/images/example/w155-h110.jpg"




    .layout-wrapper_hold.clearfix
        .layout-content.clearfix
            .margin-20
                h2 Загрузка одного фото 
                a.popup-a(href="#photo-computer-one-empty") Заглушка для загрузки одного фото
                br
                br
                a.popup-a(href="#photo-computer-one-load") Одно фото загружается
                br
                br
                h2 Загрузка нескольких фото 
                a.popup-a(href="#photo-computer-mylti-empty") Заглушка для загрузки нескольких фото
                br
                br
                a.popup-a(href="#photo-computer-mylti-load") Несколько фото загружается
                br
                br
                a.popup-a(href="#photo-computer-mylti-loaded") Несколько фото загружено
                br
                br
                h2 Загрузка фото по ссылке
                a.popup-a(href="#photo-link-empty") Заглушка для загрузки фото по ссылке
                br
                br
                a.popup-a(href="#photo-link-loaded") Фото по ссылке загружено
                br
                br

block block-hidden 
    // .popup-add
    // Заглушка для загрузки одного фото 
    #photo-computer-one-empty.popup.popup-add
        a.mfp-close(href="") ×
        .popup-add_hold
            .popup-add_top.clearfix
                .popup-add_t Добавить фотографии
                ul.tabs-simple.tabs-simple__inline.nav.nav-tabs
                    li.active
                        a(href="#photo-tab-computer", data-toggle="tab") С компьютера
                    li
                        a(href="#photo-tab-album", data-toggle="tab") Из моих альбомов
                    li
                        a(href="#photo-tab-link", data-toggle="tab") Из интернета
            .popup-add_in.tab-content
                // .popup-add_frame__multi
                
                #photo-tab-computer.tab-pane.active
                    .popup-add_frame
                        .popup-add_cap
                            +cap-empty("cap-empty__addPhoto", capEmpty.addPhoto)
                        
                #photo-tab-album.tab-pane
                #photo-tab-link.tab-pane
    // /popup-add


    // .popup-add
    // Одно фото загружается
    #photo-computer-one-load.popup.popup-add
        a.mfp-close(href="") ×
        .popup-add_hold
            .popup-add_top.clearfix
                .popup-add_t Добавить фотографии
                ul.tabs-simple.tabs-simple__inline.nav.nav-tabs
                    // tabs bootstrap, работают по id
                    li.active
                        a(href="#photo-tab-computer", data-toggle="tab") С компьютера
                    li
                        a(href="#photo-tab-album", data-toggle="tab") Из моих альбомов
                    li
                        a(href="#photo-tab-link", data-toggle="tab") Из интернета
            .popup-add_in.tab-content
                // tabs bootstrap, работают по id
                #photo-tab-computer.tab-pane.active
                    
                    .popup-add_frame
                        .popup-add_cap
                            +cap-empty("cap-empty__addPhoto", capEmpty.addPhoto)
                        .textalign-c
                            +iPhoto("i-photo__load", iPhoto.load)

                    .textalign-c
                        .btn.btn-success Добавить
                #photo-tab-album.tab-pane
                #photo-tab-link.tab-pane
    // /popup-add


    ////////////////////////////////////////////////////
    // .popup-add
    // Заглушка для загрузки нескольких фото 
    #photo-computer-mylti-empty.popup.popup-add
        a.mfp-close(href="") ×
        .popup-add_hold
            .popup-add_top.clearfix
                .popup-add_t Добавить фотографии
                ul.tabs-simple.tabs-simple__inline.nav.nav-tabs
                    li.active
                        a(href="#photo-tab-computer", data-toggle="tab") С компьютера
                    li
                        a(href="#photo-tab-album", data-toggle="tab") Из моих альбомов
                    li
                        a(href="#photo-tab-link", data-toggle="tab") Из интернета
            .popup-add_in.tab-content
                
                #photo-tab-computer.tab-pane.active
                    // К .popup-add_frame__multi при перетаскивании добавить class.dragover
                    .popup-add_frame.popup-add_frame__multi.dragover
                        .popup-add_cap
                            +cap-empty("cap-empty__addPhoto", capEmpty.addPhotoMulti)
                        
                #photo-tab-album.tab-pane
                #photo-tab-link.tab-pane
    // /popup-add

    // .popup-add
    // Загружается несколько фото 
    #photo-computer-mylti-load.popup.popup-add
        a.mfp-close(href="") ×
        .popup-add_hold
            .popup-add_top.clearfix
                .popup-add_t Добавить фотографии
                ul.tabs-simple.tabs-simple__inline.nav.nav-tabs
                    li.active
                        a(href="#photo-tab-computer", data-toggle="tab") С компьютера
                    li
                        a(href="#photo-tab-album", data-toggle="tab") Из моих альбомов
                    li
                        a(href="#photo-tab-link", data-toggle="tab") Из интернета
            .popup-add_in.tab-content
                
                #photo-tab-computer.tab-pane.active
                    // К .popup-add_frame__multi при перетаскивании добавить class.dragover
                    // При загрузке изображений нужно делать upadate baron скролл
                    .popup-add_scroll.scroll
                        .popup-add_frame.popup-add_frame__multi
                            .scroll_scroller
                                ul.popup-add_multi.clearfix.scroll_cont
                                    li.popup-add_multi-li
                                        +iPhoto("i-photo__loaded", iPhoto.loaded)
                                    li.popup-add_multi-li
                                        +iPhoto("i-photo__load", iPhoto.load)
                                    li.popup-add_multi-li
                                        +iPhoto("i-photo__loaded", iPhoto.loaded)
                                    li.popup-add_multi-li
                                        +iPhoto("i-photo__load", iPhoto.load)
                                    li.popup-add_multi-li
                                        +iPhoto("i-photo__load", iPhoto.load)
                                    li.popup-add_multi-li
                                        +iPhoto("i-photo__load", iPhoto.load)
                                    li.popup-add_multi-li
                                        +iPhoto("i-photo__error", iPhoto.error)
                                    li.popup-add_multi-li
                                        +iPhoto("i-photo__load", iPhoto.load)
                                    li.popup-add_multi-li
                                        +iPhoto("i-photo__load", iPhoto.load)
                                    li.popup-add_multi-li
                                        +iPhoto("i-photo__load", iPhoto.load)
                                    li.popup-add_multi-li
                                        +iPhoto("i-photo__load", iPhoto.load)
                                    li.popup-add_multi-li
                                        +iPhoto("i-photo__load", iPhoto.load)
                                    li.popup-add_multi-li
                                        +iPhoto("i-photo__loaded", iPhoto.loaded)
                            .scroll_bar-hold
                                .scroll_bar
                                    .scroll_bar-in
                    .popup-add_footer.clearfix
                        .float-r
                            .btn.btn-success Добавить
                        .popup-add_footer-l
                            span.color-gray-light Загружено  
                                spanc.popup-add_footer-count 7 
                                | из 
                                span.popup-add_footer-count 125
                            // boostrap progressbar
                            // progressbar изначально уже весь заполнен
                            .progress.progress-striped.active.progress__cont.progress__inline
                                .progress-bar.progress-bar__cont(role='progressbar', aria-valuenow='100', aria-valuemin='0', aria-valuemax='100', style='width: 100%')
                            a.btn-link.btn-link-gray.btn-s(href="") Отменить загрузку 
                        
                #photo-tab-album.tab-pane
                #photo-tab-link.tab-pane
    // /popup-add

    // .popup-add
    // Загрузилось несколько фото
    #photo-computer-mylti-loaded.popup.popup-add
        a.mfp-close(href="") ×
        .popup-add_hold
            .popup-add_top.clearfix
                .popup-add_t Добавить фотографии
                ul.tabs-simple.tabs-simple__inline.nav.nav-tabs
                    li.active
                        a(href="#photo-tab-computer", data-toggle="tab") С компьютера
                    li
                        a(href="#photo-tab-album", data-toggle="tab") Из моих альбомов
                    li
                        a(href="#photo-tab-link", data-toggle="tab") Из интернета
            .popup-add_in.tab-content
                
                #photo-tab-computer.tab-pane.active
                    // К .popup-add_frame__multi при перетаскивании добавить class.dragover
                    .popup-add_scroll.scroll
                        .popup-add_frame.popup-add_frame__multi
                            .scroll_scroller
                                ul.popup-add_multi.clearfix.scroll_cont
                                    li.popup-add_multi-li
                                        +iPhoto("i-photo__loaded", iPhoto.loaded)
                                    li.popup-add_multi-li
                                        +iPhoto("i-photo__loaded", iPhoto.loaded)
                                    li.popup-add_multi-li
                                        +iPhoto("i-photo__error", iPhoto.error)
                                    li.popup-add_multi-li
                                        +iPhoto("i-photo__loaded", iPhoto.loaded)
                            .scroll_bar-hold
                                .scroll_bar
                                    .scroll_bar-in
                    .popup-add_footer.clearfix
                        .float-r
                            .btn.btn-success Добавить
                        .popup-add_footer-l
                            span.color-gray Загружено  
                                spanc.popup-add_footer-count 125 
                                | из 
                                span.popup-add_footer-count 125
                            .file-fake
                                input.file-fake_inp(type="file")
                                a.file-fake_btn.btn.btn-primary.btn-s(href="") 
                                    span.ico-plus.ico-plus__s.ico-plus__white
                                    | Загрузить еще
                        
                #photo-tab-album.tab-pane
                #photo-tab-link.tab-pane
    // /popup-add






    ////////////////////////////////////////////////////
    // .popup-add
    // Одно фото по ссылке загружено
    #photo-link-empty.popup.popup-add
        a.mfp-close(href="") ×
        .popup-add_hold
            .popup-add_top.clearfix
                .popup-add_t Добавить фотографии
                ul.tabs-simple.tabs-simple__inline.nav.nav-tabs
                    // tabs bootstrap, работают по id
                    li
                        a(href="#photo-tab-computer", data-toggle="tab") С компьютера
                    li
                        a(href="#photo-tab-album", data-toggle="tab") Из моих альбомов
                    li.active
                        a(href="#photo-tab-link", data-toggle="tab") Из интернета
            .popup-add_in.tab-content
                // tabs bootstrap, работают по id
                #photo-tab-computer.tab-pane
                #photo-tab-album.tab-pane
                #photo-tab-link.tab-pane.active
                    
                    .popup-add_frame
                        .popup-add_cap
                            +cap-empty("cap-empty__addPhotoLink", capEmpty.addPhotoLink)
    // /popup-add

    // .popup-add
    // Одно фото по ссылке загружено
    #photo-link-loaded.popup.popup-add
        a.mfp-close(href="") ×
        .popup-add_hold
            .popup-add_top.clearfix
                .popup-add_t Добавить фотографии
                ul.tabs-simple.tabs-simple__inline.nav.nav-tabs
                    // tabs bootstrap, работают по id
                    li
                        a(href="#photo-tab-computer", data-toggle="tab") С компьютера
                    li
                        a(href="#photo-tab-album", data-toggle="tab") Из моих альбомов
                    li.active
                        a(href="#photo-tab-link", data-toggle="tab") Из интернета
            .popup-add_in.tab-content
                // tabs bootstrap, работают по id
                #photo-tab-computer.tab-pane
                #photo-tab-album.tab-pane
                #photo-tab-link.tab-pane.active
                    
                    .popup-add_frame
                        .popup-add_cap
                            +cap-empty("cap-empty__addPhotoLink", capEmpty.addPhotoLink)
                        .textalign-c

                            +iPhoto("i-photo__loaded", iPhoto.loaded)
                                
                    .textalign-c
                        .btn.btn-success Добавить
    // /popup-add



